<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dome floor plan</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="fns.js"></script>
</head>

<body>
  <h1>Plan</h1>
  <h2>Legend</h2>
  <ul>
    <li>1 large square = 1 metre, 1 small square = 25 cm.</li>
  </ul>

  <h2>The land</h2>
  <svg id="canvas-land" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"></svg>
  <ul>
    <li>Add: poultry, ponds (in-greenhouse mostly), alpacas/sheep/goats.</li>
  </ul>

  <h2>Underground pond</h2>
  <svg id="canvas-pond" viewBox="0 0 11 7" xmlns="http://www.w3.org/2000/svg"></svg>

  <ul>
    <li><b>Dome floor:</b> concrete floor with glass blocks. Allow entry. Below is the deepest point with many hideouts.</li>
    <li><b>Ring floor:</b> expanded metal, allow humidity for the plants. Several entry points.</li>
    E/W humans/turtles basking.
  </ul>

  <h3>Species</h3>
  <ul>
    <li><b>Tilapia:</b> 25–30 °C.</li>
    <li><b>Catfish:</b> Channel catfish (Ictalurus punctatus) 24–30 °C or African catfish (Clarias gariepinus) 26–32 °C. African catfish is hardier and more tolerant of low oxygen and crowding.</li>
    <li><b>Redclaw crayfish (Cherax quadricarinatus):</b> 26–30 °C.</li>
    <li><b>Red-eared slider (Trachemys scripta elegans):</b> 24–28 °C.</li>
    <li><b>Freshwater prawn (Macrobrachium rosenbergi):</b> 26–31 °C.</li>
  </ul>

  <table>
    <thead>
      <tr>
        <th>Water Volume</th>
        <th>Extensive (kg)</th>
        <th>Semi-Extensive (kg)</th>
        <th>Intensive (kg)</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>25,000 L</td>
        <td>10–15</td>
        <td>25–35</td>
        <td>50–80</td>
      </tr>
      <tr>
        <td>40,000 L</td>
        <td>16–24</td>
        <td>40–56</td>
        <td>80–120</td>
      </tr>
      <tr>
        <td>55,000 L</td>
        <td>22–33</td>
        <td>55–75</td>
        <td>110–160</td>
      </tr>
      <tr>
        <td>70,000 L</td>
        <td>28–42</td>
        <td>70–95</td>
        <td>140–200</td>
      </tr>
    </tbody>
  </table>

  <table>
    <thead>
      <tr>
        <th>System</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Extensive</td>
        <td>Minimal input, no aeration, low density, pond-like. Mostly natural feeding.</td>
      </tr>
      <tr>
        <td>Semi-extensive</td>
        <td>Supplementary feeding (scraps, grain, manure), modest density, few pumps.</td>
      </tr>
      <tr>
        <td>Intensive</td>
        <td>High-density, filtered/aerated, regular feeding (pellets or rich scraps).</td>
      </tr>
    </tbody>
  </table>

  <p>
    With: 70k litre tank, natural aeration from plants, feeding worms/BSFL and partial daily exchange, you can safely aim for: 80–120 kg/year yield, possibly more.
  </p>

  <h2>Ground floor</h2>
  <svg id="canvas-ground" viewBox="0 0 11 9" xmlns="http://www.w3.org/2000/svg"></svg>
  <ul>
    STOVE not floating, but rather the whole floor would be steel (can be covered by wood) and lowered compared to the ring around.
    <li><b>Storage:</b> below the workshops.</li>
    <li><b>Plants:</b> coffee, tea, cacao; turmeric, ginger, cardamom. All require high humidity, perhaps re-evalute the expanded metal thingy from the fish pond. Black pepper, vanilla (requires hand pollination). Tulsi.</li>
    <li><b>Height:</b> 3m to allow enough space for cacao (don't forget to count the maceta...or we could perhaps have parts that go below the floor level? Since there will be a fair air gap for people, maybe 50cm). Would be only required for certain plants like cacao.</li>
    <li><b>Dome:</b> vents just off the ground to suck air out of the storage and circulate it properly.</li>
    <li><b>Dome:</b> roof window to allow releasing the heat when one is inside and closing it for when we need to charge the structure with heat.</li>
    <li><b>Dome:</b> translucent glass (bottles or glass blocks) in the ceiling.</li>
    <li><b>Storage:</b> needs to be large to store all we need post-collapse.</li>
  </ul>

  <h2>Upper levels</h2>
  <svg id="canvas-upper" viewBox="0 0 11 9" xmlns="http://www.w3.org/2000/svg"></svg>
  <ul>
    PERHAPS expanded metal with glass below, so the humid zone is sealed.
    <li><b>Bedroom:</b> goes right above the dome, possibly suspended and covered by a woolen blanket.</li>
    PERHAPS DOME not dome after all, but rather with a wooden ceiling? but then it could be buffering somewhat poorly? Think it through well. Also, how about the glass blocks?
    expanded metal ring around, wooden floor above the dome
    maracuyá
    coco
  </ul>

  <script>
    /* Set up canvases */
    const land = document.getElementById('canvas-land')
    const pond = document.getElementById('canvas-pond')
    const ground = document.getElementById('canvas-ground')
    const upper = document.getElementById('canvas-upper')

    showGrid(land, 40, 40)
    showGrid(pond, 11, 7)
    showGrid(ground, 11, 9)
    showGrid(upper, 11, 9)

    const centreX = 5.5 // doesn't change
    const centreY = 5.8

    /* Land */
    drawRect(land, {cx: 5, cy: 5, width: 4, height: 3, strokeWidth: 0.50, stroke: "#888"})
    drawRect(land, {cx: 20, cy: 5, width: 8, height: 6, strokeWidth: 0.50, stroke: "#888"})

    drawEllipse(land, {cx: 20, cy: 19, width: 20, ratio: 4/5, stroke: 'black', strokeWidth: 0.1})
    drawEllipse(land, {cx: 20, cy: 20, width: 5, ratio: 3/5, stroke: '#e63946', strokeWidth: 0.1})
    drawEllipse(land, {cx: 20, cy: 20, width: 8.2, ratio: 3.5/5, stroke: '#888', strokeWidth: 0.50})
    drawStaircase(land, {cx: 20, cy: 16})
    drawRect(land, {cx: 16.7, cy: 16, width: 3, height: 2, strokeWidth: 0.50, stroke: "#888", rotation: 25})
    drawRect(land, {cx: 23.3, cy: 16, width: 3, height: 2, strokeWidth: 0.50, stroke: "#888", rotation: -25})
    drawBananaPlant(land, {cx: 14, cy: 15})
    drawBananaPlant(land, {cx: 13, cy: 16.5})
    drawBananaPlant(land, {cx: 12, cy: 18})

    /* Pond */
    drawEllipse(pond, {cx: centreX, cy: centreY - 2.3, width: 5, ratio: 3/5, stroke: '#e63946', strokeWidth: 0.1})
    drawEllipse(pond, {cx: centreX, cy: centreY - 2.3, width: 8.2, ratio: 3.5/5, stroke: '#888', strokeWidth: 0.50})

    /* Ground floor */
    drawEllipse(ground, {cx: centreX, cy: centreY, width: 5, ratio: 3/5, stroke: '#e63946', strokeWidth: 0.3})
    drawEllipse(ground, {cx: centreX, cy: centreY, width: 8.2, ratio: 3.5/5, stroke: '#888', strokeWidth: 0.50})

    drawBananaPlant(ground, {cx: centreX - 3, cy: centreY})
    drawBananaPlant(ground, {cx: centreX + 3, cy: centreY})

    drawBananaPlant(ground, {cx: centreX - 2.3, cy: centreY - 1.4})
    drawBananaPlant(ground, {cx: centreX + 2.3, cy: centreY + 1.4})

    drawBananaPlant(ground, {cx: centreX - 2.3, cy: centreY + 1.4})
    drawBananaPlant(ground, {cx: centreX + 2.3, cy: centreY - 1.4})

    drawBananaPlant(ground, {cx: centreX - 0.8, cy: centreY - 2})
    drawBananaPlant(ground, {cx: centreX + 0.8, cy: centreY + 2})

    drawBananaPlant(ground, {cx: centreX - 0.8, cy: centreY + 2})
    drawBananaPlant(ground, {cx: centreX + 0.8, cy: centreY - 2})

    drawStaircase(ground, {cx: centreX, cy: 1.7})
    drawRect(ground, {cx: 8.7, cy: 2.5, width: 3, height: 2, strokeWidth: 0.50, stroke: "#888", rotation: 25})
    drawRect(ground, {cx: 2.2, cy: 2.5, width: 3, height: 2, strokeWidth: 0.50, stroke: "#888", rotation: -25})

    /* Upper floor */
    drawEllipse(upper, {cx: centreX, cy: centreY, width: 5, ratio: 3/5, stroke: '#e63946', strokeWidth: 0.1})
    drawEllipse(upper, {cx: centreX, cy: centreY, width: 8.2, ratio: 3.5/5, stroke: '#888', strokeWidth: 0.50})

    drawBananaPlant(upper, {cx: centreX - 3, cy: centreY})
    drawBananaPlant(upper, {cx: centreX + 3, cy: centreY})

    drawBananaPlant(upper, {cx: centreX - 2.3, cy: centreY - 1.4})
    drawBananaPlant(upper, {cx: centreX + 2.3, cy: centreY + 1.4})

    drawBananaPlant(upper, {cx: centreX - 2.3, cy: centreY + 1.4})
    drawBananaPlant(upper, {cx: centreX + 2.3, cy: centreY - 1.4})

    drawBananaPlant(upper, {cx: centreX - 0.8, cy: centreY - 2})
    drawBananaPlant(upper, {cx: centreX + 0.8, cy: centreY + 2})

    drawBananaPlant(upper, {cx: centreX - 0.8, cy: centreY + 2})
    drawBananaPlant(upper, {cx: centreX + 0.8, cy: centreY - 2})

    drawStaircase(upper, {cx: centreX, cy: 1.7})
    drawRect(upper, {cx: 8.7, cy: 2.5, width: 3, height: 2, strokeWidth: 0.50, stroke: "#888", rotation: 25})
    drawRect(upper, {cx: 2.2, cy: 2.5, width: 3, height: 2, strokeWidth: 0.50, stroke: "#888", rotation: -25})
  </script>
</body>
</html>
